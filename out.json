  console.info
    Tests found: 326

      at test/standard/bitmark-generator.test.ts:62:13

FAIL test/standard/bitmark-generator.test.ts (21.606 s)
  bitmark-generator
    JSON => Markup => JSON: Tests
      ✓ ai-prompt (207 ms)
      ✓ app-ai-prompt (69 ms)
      ✓ app-bitmark-from-editor (35 ms)
      ✓ app-bitmark-from-javascript (31 ms)
      ✓ app-code-cell (57 ms)
      ✓ app-code-editor (49 ms)
      ✓ app-code-ide (40 ms)
      ✓ app-create-bits-from-image (35 ms)
      ✓ app-flashcards-learn (30 ms)
      ✓ app-flashcards-quiz (27 ms)
      ✓ app-flashcards (31 ms)
      ✓ app-get-screenshot (95 ms)
      ✓ app-link (29 ms)
      ✓ article-ai (46 ms)
      ✓ article-alt (168 ms)
      ✓ article-responsive (45 ms)
      ✓ article (157 ms)
      ✓ assignment-list (85 ms)
      ✓ assignment (56 ms)
      ✓ audio-embed (49 ms)
      ✓ audio-link (37 ms)
      ✓ audio-transcript (57 ms)
      ✓ audio (63 ms)
      ✓ bit-alias (56 ms)
      ✓ bit-book-ending (20 ms)
      ✓ bit-book-summary (22 ms)
      ✓ bit-level (68 ms)
      ✓ bitmark-example (54 ms)
      ✓ blog-article (23 ms)
      ✓ book-alias (29 ms)
      ✓ book-close (23 ms)
      ✓ book-link (114 ms)
      ✓ book (658 ms)
      ✓ bot-action-response (86 ms)
      ✓ bot-action-send (20 ms)
      ✕ breakscape (77 ms)
      ✓ browser-image (115 ms)
      ✓ bug (32 ms)
      ✓ button-copy-text (22 ms)
      ✓ call-to-action (122 ms)
      ✓ card-1 (34 ms)
      ✓ chaining (86 ms)
      ✓ chapter-subject-matter (22 ms)
      ✓ chapter (82 ms)
      ✓ checklist (49 ms)
      ✓ cloze-and-multiple-choice-text (79 ms)
      ✓ cloze-instruction-grouped (47 ms)
      ✓ cloze-list (35 ms)
      ✓ cloze-solution-grouped (105 ms)
      ✓ cloze (233 ms)
      ✓ coach-audio-transcript (45 ms)
      ✓ coach-call-to-action-checklist (49 ms)
      ✓ coach-call-to-action-cloze-and-multiple-choice-text (68 ms)
      ✓ coach-call-to-action-cloze (202 ms)
      ✓ coach-call-to-action-essay (85 ms)
      ✓ coach-call-to-action-multiple-choice-text (119 ms)
      ✓ coach-home-rules (67 ms)
      ✓ coach-self-reflection-cloze (201 ms)
      ✓ coach-self-reflection-essay (82 ms)
      ✓ coach-self-reflection-multiple-choice-1 (164 ms)
      ✓ coach-self-reflection-multiple-choice-text (124 ms)
      ✓ coach-self-reflection-multiple-choice (321 ms)
      ✓ coach-self-reflection-multiple-response-1 (121 ms)
      ✓ coach-self-reflection-multiple-response (80 ms)
      ✓ coach-self-reflection-rating (72 ms)
      ✓ coach-video-transcript (48 ms)
      ✓ code-runtime (32 ms)
      ✓ code (32 ms)
      ✓ collapsible (89 ms)
      ✓ comment (28 ms)
      ✓ conclusion (28 ms)
      ✓ console-log (35 ms)
      ✓ container (232 ms)
      ✓ conversation-left-1-scream (29 ms)
      ✓ conversation-left-1-thought (28 ms)
      ✓ conversation-left-1 (27 ms)
      ✓ conversation-right-1-scream (26 ms)
      ✓ conversation-right-1-thought (28 ms)
      ✓ conversation-right-1 (29 ms)
      ✓ cook-arrangement (34 ms)
      ✓ cook-ingredients (42 ms)
      ✓ cook-insert (33 ms)
      ✓ cook-personal-recommendation (35 ms)
      ✓ cook-plate (32 ms)
      ✓ cook-practice-advise (34 ms)
      ✓ cook-preparation (34 ms)
      ✓ cook-recommendation (34 ms)
      ✓ cook-remark (35 ms)
      ✓ cook-side-dish (35 ms)
      ✓ cook-side-drink (34 ms)
      ✓ cook-step (33 ms)
      ✓ cook-timer (33 ms)
      ✓ cook-variation (35 ms)
      ✓ danger (29 ms)
      ✓ description-list (73 ms)
      ✓ description-term (21 ms)
      ✓ details-image (25 ms)
      ✓ details1 (32 ms)
      ✓ document-download (23 ms)
      ✓ document-embed (24 ms)
      ✓ document-link (23 ms)
      ✓ document (28 ms)
      ✓ editor-note (29 ms)
      ✓ editorial (25 ms)
      ✓ essay (90 ms)
      ✓ example (63 ms)
      ✓ extractor-block (26 ms)
      ✓ extractor-configuration (116 ms)
      ✓ extractor-page-footer (24 ms)
      ✓ extractor-page-header (25 ms)
      ✓ extractor-page-number (23 ms)
      ✓ extractor-page-with-blocks (31 ms)
      ✓ extractor-page (31 ms)
      ✓ extractor-repeated-text (19 ms)
      ✓ featured (21 ms)
      ✓ figure (32 ms)
      ✓ flashcard-1 (73 ms)
      ✓ flashcard (66 ms)
      ✓ focus-image (31 ms)
      ✓ foot-note (23 ms)
      ✓ footer (77 ms)
      ✓ formula (55 ms)
      ✓ gap-text-instruction-grouped (44 ms)
      ✓ gap-text (228 ms)
      ✓ glossary-term (44 ms)
      ✓ hand-in-audio (61 ms)
      ✓ hand-in-contact (59 ms)
      ✓ hand-in-document (58 ms)
      ✓ hand-in-location (58 ms)
      ✓ hand-in-photo (60 ms)
      ✓ hand-in-scan (74 ms)
      ✓ hand-in-video (59 ms)
      ✓ hand-in-voice (58 ms)
      ✓ help (58 ms)
      ✓ highlight-text (72 ms)
      ✓ hint (101 ms)
      ✓ image-banner (34 ms)
      ✓ image-figure (83 ms)
      ✓ image-landscape (23 ms)
      ✓ image-link (37 ms)
      ✓ image-mood (25 ms)
      ✓ image-on-device (44 ms)
      ✓ image-portrait (22 ms)
      ✓ image-prototype (26 ms)
      ✓ image-responsive (45 ms)
      ✓ image-screenshot (28 ms)
      ✓ image-separator (58 ms)
      ✓ image-styled (24 ms)
      ✓ image-super-wide (21 ms)
      ✓ image-zoom (23 ms)
      ✓ image (136 ms)
      ✓ index-term (32 ms)
      ✓ info (64 ms)
      ✓ internalComment (54 ms)
      ✓ internalLink (36 ms)
      ✓ interview-instruction-grouped (69 ms)
      ✓ interview (261 ms)
      ✓ lang-audio-script (38 ms)
      ✓ lang-enabling-language-skills (35 ms)
      ✓ lang-english-around-world (34 ms)
      ✓ lang-extra-activity (34 ms)
      ✓ lang-good-to-know (33 ms)
      ✓ lang-homework (33 ms)
      ✓ lang-learning-goal (34 ms)
      ✓ lang-learning-outcomes (33 ms)
      ✓ lang-learning-strategy (32 ms)
      ✓ lang-level-down (33 ms)
      ✓ lang-level-up (47 ms)
      ✓ lang-life-skill-icon (42 ms)
      ✓ lang-life-skills (35 ms)
      ✓ lang-like-a-local (37 ms)
      ✓ lang-teacher-note (39 ms)
      ✓ lang-useful-phrases (40 ms)
      ✓ lang-video-script (34 ms)
      ✓ lang-vocabulary (38 ms)
      ✓ le-assignment (49 ms)
      ✓ le-classroom-event (49 ms)
      ✓ le-completion (45 ms)
      ✓ le-external-link (180 ms)
      ✓ le-finishing-task (53 ms)
      ✓ le-follow-up-task (50 ms)
      ✓ le-learning-objectives (30 ms)
      ✓ le-learning-step (32 ms)
      ✓ le-listen-audio-embed (62 ms)
      ✓ le-preparation-task (51 ms)
      ✓ le-read-book (77 ms)
      ✓ le-read (42 ms)
      ✓ le-task (46 ms)
      ✓ le-todo (49 ms)
      ✓ le-video-call (23 ms)
      ✓ le-watch-video-embed (60 ms)
      ✓ learning-path-book (48 ms)
      ✓ learning-path-classroom-event (47 ms)
      ✓ learning-path-classroom-training (30 ms)
      ✓ learning-path-closing (22 ms)
      ✓ learning-path-external-link (26 ms)
      ✓ learning-path-learning-goal (22 ms)
      ✓ learning-path-lti (27 ms)
      ✓ learning-path-step (21 ms)
      ✓ learning-path-video-call (21 ms)
      ✓ life-skill-sticker (24 ms)
      ✓ list-item (43 ms)
      ✓ list (32 ms)
      ✓ mark (63 ms)
      ✓ match-all-reverse (27 ms)
      ✓ match-all (171 ms)
      ✓ match-matrix (263 ms)
      ✓ match-reverse (44 ms)
      ✓ match-solution-grouped (59 ms)
      ✓ match (277 ms)
      ✓ milestone (28 ms)
      ✓ module-product (36 ms)
      ✓ module (29 ms)
      ✓ multiple-choice-1 (156 ms)
      ✓ multiple-choice-text (120 ms)
      ✓ multiple-choice (289 ms)
      ✓ multiple-response-1 (117 ms)
      ✓ multiple-response (79 ms)
      ✓ newspaper-article (21 ms)
      ✓ note-ai (37 ms)
      ✓ note (48 ms)
      ✓ notebook-article (21 ms)
      ✓ output (32 ms)
      ✓ page-academy (24 ms)
      ✓ page-article-alt (121 ms)
      ✓ page-article-responsive (36 ms)
      ✓ page-article (118 ms)
      ✓ page-banner (47 ms)
      ✓ page-buy-button-promotion (24 ms)
      ✓ page-buy-button (28 ms)
      ✓ page-category (23 ms)
      ✓ page-container (82 ms)
      ✓ page-cover-image (34 ms)
      ✓ page-footer (48 ms)
      ✓ page-hero (48 ms)
      ✓ page-open-book (24 ms)
      ✓ page-person (23 ms)
      ✓ page-product-list (25 ms)
      ✓ page-product-video-list (23 ms)
      ✓ page-product-video (22 ms)
      ✓ page-product (23 ms)
      ✓ page-promotion (23 ms)
      ✓ page-section-folder (24 ms)
      ✓ page-shop-in-shop (23 ms)
      ✓ page-special (24 ms)
      ✓ page-subpage (23 ms)
      ✓ page-subscribe (62 ms)
      ✓ page (43 ms)
      ✓ parameters (56 ms)
      ✓ photo (31 ms)
      ✕ plain-text (136 ms)
      ✓ preparation-note (61 ms)
      ✓ prototype-images (29 ms)
      ✓ question-1 (29 ms)
      ✓ quote (22 ms)
      ✓ rating (66 ms)
      ✓ recipe (39 ms)
      ✓ record-audio (25 ms)
      ✓ record-video (23 ms)
      ✓ release-note (23 ms)
      ✓ release-notes-summary (22 ms)
      ✓ remark (88 ms)
      ✓ review-approved-note (29 ms)
      ✓ review-author-note (29 ms)
      ✓ review-note (29 ms)
      ✓ review-request-for-review-note (28 ms)
      ✓ review-reviewer-note (29 ms)
      ✓ sample-solution (19 ms)
      ✓ scorm (21 ms)
      ✓ separator (29 ms)
      ✓ sequence (40 ms)
      ✓ side-note (47 ms)
      ✓ smart-standard-bits (239 ms)
      ✓ smart-standard-collapsible-bits (187 ms)
      ✓ standard-bits (174 ms)
      ✓ statement (26 ms)
      ✓ stdout (33 ms)
      ✓ step-image-screenshot-with-pointer (39 ms)
      ✓ step-image-screenshot (35 ms)
      ✓ step (27 ms)
      ✓ sticker (33 ms)
      ✓ sticky-note (22 ms)
      ✓ still-image-film-embed (23 ms)
      ✓ still-image-film-link (21 ms)
      ✓ still-image-film (36 ms)
      ✓ streaming (100 ms)
      ✓ summary-ai (38 ms)
      ✓ summary (32 ms)
      ✓ survey-matrix-me (43 ms)
      ✓ survey-matrix (41 ms)
      ✓ survey-rating-display (24 ms)
      ✓ survey-rating-once (23 ms)
      ✓ survey-rating (41 ms)
      ✓ table-image (49 ms)
      ✓ table (105 ms)
      ✓ take-picture (51 ms)
      ✓ toc-chapter (18 ms)
      ✓ toc (20 ms)
      ✓ true-false-1 (44 ms)
      ✓ true-false (115 ms)
      ✓ vendor-amcharts-5-chart (40 ms)
      ✓ vendor-highcharts-chart (40 ms)
      ✓ vendor-iframely-card (22 ms)
      ✓ vendor-iframely-embed (21 ms)
      ✓ vendor-iframely-preview-mini (21 ms)
      ✓ vendor-iframely-preview (22 ms)
      ✓ vendor-jupyter-cell-code (32 ms)
      ✓ vendor-jupyter-cell-markdown (31 ms)
      ✓ vendor-jupyter-cell-raw (33 ms)
      ✓ vendor-jupyter-ipynb (33 ms)
      ✓ vendor-jupyter-output (31 ms)
      ✓ vendor-padlet-embed (20 ms)
      ✓ vendor-stripe-pricing-table (18 ms)
      ✓ video-embed-landscape (33 ms)
      ✓ video-embed-portrait (34 ms)
      ✓ video-embed (35 ms)
      ✓ video-landscape (24 ms)
      ✓ video-link-landscape (40 ms)
      ✓ video-link-portrait (38 ms)
      ✓ video-link (67 ms)
      ✓ video-portrait (25 ms)
      ✓ video-transcript (43 ms)
      ✓ video (36 ms)
      ✓ warning (28 ms)
      ✓ website-link (19 ms)
      ✓ workbook-article (20 ms)

  ● bitmark-generator › JSON => Markup => JSON: Tests › breakscape

    expect(received).toEqual(expected) // deep equality

    - Expected  - 13
    + Received  + 71

    @@ -5,10 +5,70 @@
            "body": Array [
              Object {
                "attrs": Object {},
                "content": Array [
                  Object {
    +               "text": "]",
    +               "type": "text",
    +             },
    +             Object {
    +               "type": "hardBreak",
    +             },
    +             Object {
    +               "text": "4321]",
    +               "type": "text",
    +             },
    +             Object {
    +               "type": "hardBreak",
    +             },
    +             Object {
    +               "text": "-in-it-and-at-the-end-]]",
    +               "type": "text",
    +             },
    +             Object {
    +               "type": "hardBreak",
    +             },
    +             Object {
    +               "type": "hardBreak",
    +             },
    +             Object {
    +               "type": "hardBreak",
    +             },
    +             Object {
    +               "text": "]",
    +               "type": "text",
    +             },
    +             Object {
    +               "type": "hardBreak",
    +             },
    +             Object {
    +               "text": " with square bracked in middle]",
    +               "type": "text",
    +             },
    +             Object {
    +               "type": "hardBreak",
    +             },
    +             Object {
    +               "type": "hardBreak",
    +             },
    +             Object {
    +               "type": "hardBreak",
    +             },
    +             Object {
    +               "type": "hardBreak",
    +             },
    +             Object {
    +               "text": "with-square-bracket]with-square-bracket]",
    +               "type": "text",
    +             },
    +             Object {
    +               "type": "hardBreak",
    +             },
    +             Object {
    +               "type": "hardBreak",
    +             },
    +             Object {
                    "text": "Here",
                    "type": "text",
                  },
                  Object {
                    "type": "hardBreak",
    @@ -49,41 +109,37 @@
                          },
                        ],
                        "type": "paragraph",
                      },
                    ],
    -               "hint": Array [],
    -               "instruction": Array [],
                    "isCaseSensitive": true,
                    "isExample": true,
    -               "item": Array [],
    -               "lead": Array [],
                    "solutions": Array [
    -                 "[gap]",
    +                 "[gap",
                    ],
                    "type": "gap",
                  },
                  Object {
    -               "text": " with square brackets",
    +               "text": "] with square brackets",
                    "type": "text",
                  },
                ],
                "type": "paragraph",
              },
            ],
            "externalId": Array [
    -         "[externalId with square bracked at end]",
    +         "[externalId with square bracked at end",
            ],
            "format": "bitmark++",
            "hint": Array [],
            "id": Array [
              "1234",
    -         "[1234]",
    -         "[1234]4321",
    +         "[1234",
    +         "[1234",
    +         "id-with-a-",
              "id-with-a-]-in-it-and-at-the-end-]",
              "id-with-a-^]-in-it-and-at-the-end-^]",
    -         "id-with-a-^^]-in-it-and-at-the-end-^^]",
            ],
            "instruction": Array [
              Object {
                "attrs": Object {},
                "content": Array [
    @@ -106,11 +162,11 @@
                  },
                ],
                "type": "paragraph",
              },
            ],
    -       "lang": "[lang] with square bracked in middle",
    +       "lang": "[lang",
            "lead": Array [
              Object {
                "attrs": Object {},
                "content": Array [
                  Object {
    @@ -130,16 +186,18 @@
                "copyright": "",
                "height": null,
                "license": "",
                "provider": "bad.url",
                "showInIndex": false,
    -           "src": "https://bad.url/]with-square-bracket",
    -           "src1x": "https://bad.url/]with-square-bracket",
    +           "src": "https://bad.url/",
                "width": null,
                "zoomDisabled": false,
              },
              "type": "image",
            },
    +       "src1x": Array [
    +         "https://bad.url/",
    +       ],
            "type": "cloze",
          },
        },
      ]

      186 |         }
      187 |
    > 188 |         expect(newJson).toEqual(originalJson);
          |                         ^
      189 |
      190 |         // If we get to here, we can delete the diff file as there were no important differences
      191 |         fs.removeSync(jsonDiffFile);

      at test/standard/bitmark-generator.test.ts:188:25
      at fulfilled (test/standard/bitmark-generator.test.ts:28:58)

  ● bitmark-generator › JSON => Markup => JSON: Tests › plain-text

    expect(received).toEqual(expected) // deep equality

    - Expected  - 1
    + Received  + 1

    @@ -258,11 +258,11 @@
                    "isCaseSensitive": false,
                    "isExample": false,
                    "item": Array [],
                    "lead": Array [],
                    "solutions": Array [
    -                 "solu^tion",
    +                 "solution",
                      "problem",
                    ],
                    "type": "gap",
                  },
                  Object {

      186 |         }
      187 |
    > 188 |         expect(newJson).toEqual(originalJson);
          |                         ^
      189 |
      190 |         // If we get to here, we can delete the diff file as there were no important differences
      191 |         fs.removeSync(jsonDiffFile);

      at test/standard/bitmark-generator.test.ts:188:25
      at fulfilled (test/standard/bitmark-generator.test.ts:28:58)

Test Suites: 1 failed, 1 total
Tests:       2 failed, 324 passed, 326 total
Snapshots:   0 total
Time:        21.933 s, estimated 24 s
Ran all test suites.
